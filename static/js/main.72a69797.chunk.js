(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(34).concat([function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s,n=c(26),a=c.n(n),i=c(11),r=c(2),o=c(6),l=c(9),j=c(1),u=c(0),d="ADDCATALOG",b="ADDFAVORITE",O="REMOVEFAVORITE",p="ADDBASKET",h="REMOVEPRODUCTINBASKET",m="RISEVALUEPRODUCT",x="REDUCTIONVALUEPRODUCT",f="SELECTPRODUCT",g="LOAD",v={catalogsProducts:[],favoriteProducts:JSON.parse(localStorage.getItem("likeList"))||[],basketList:JSON.parse(localStorage.getItem("shoppingList"))||[],selectedProduct:JSON.parse(localStorage.getItem("product"))||null,loader:!1},N=function(e,t){switch(t.type){case d:return Object(l.a)(Object(l.a)({},e),{},{catalogsProducts:t.list});case b:return Object(l.a)(Object(l.a)({},e),{},{favoriteProducts:[].concat(Object(o.a)(e.favoriteProducts),[t.product])});case O:return Object(l.a)(Object(l.a)({},e),{},{favoriteProducts:e.favoriteProducts.filter((function(e){return e.age!==t.age}))});case p:return Object(l.a)(Object(l.a)({},e),{},{basketList:[].concat(Object(o.a)(e.basketList),[t.product])});case m:return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.map((function(e){return e.item.age===t.id&&(e.value+=1),e}))});case x:return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.map((function(e){return e.item.age===t.id&&(e.value-=1),e}))});case h:return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.filter((function(e){return e.item.age!==t.age}))});case f:return Object(l.a)(Object(l.a)({},e),{},{selectedProduct:t.product});case g:return Object(l.a)(Object(l.a)({},e),{},{loader:t.active});default:return e}},y=Object(j.createContext)([v,function(e){return e}]),S=function(e){var t=e.children,c=Object(j.useReducer)(N,v),s=Object(r.a)(c,2),n=s[0],a=s[1];return Object(u.jsx)(y.Provider,{value:[n,a],children:t})},k=c(4),w=(c(34),c(35),function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("img",{src:"./img/phones/LOGO.png",alt:"logo"}),Object(u.jsxs)("div",{className:"footer__links",children:[Object(u.jsx)("a",{href:"#",children:"GITHUB"}),Object(u.jsx)("a",{href:"#",children:"CONTACTS"}),Object(u.jsx)("a",{href:"#",children:"RIGHTS"})]}),Object(u.jsxs)("div",{className:"footer__back-top",children:[Object(u.jsx)("span",{children:"Back to top"}),Object(u.jsx)("button",{type:"button",onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})},children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"top"})})]})]})}),C=c(10),_=c(5),L=c.n(_),P=(c(37),c(8)),E=c.n(P),A=c(28),R=["text","way","children","classStyle","active"],T=function(e){var t=e.text,c=e.way,s=e.children,n=e.classStyle,a=e.active,r=Object(A.a)(e,R),o=Object(k.k)().search;return Object(u.jsx)(i.c,Object(l.a)(Object(l.a)({style:{textDecoration:"none"},className:function(e){var t=e.isActive;return E()("".concat(n),{"active-link":t&&!a})},to:"".concat(c).concat(o)},r),{},{children:s||t}))};c(38);!function(e){e.Phone="phones",e.Tablet="tablets",e.Accessor="accessories",e.Favorite="favorites"}(s||(s={}));var F,I=function(e){var t=e.favorite,c=e.shoping,n=Object(i.d)(),a=Object(r.a)(n,2),o=a[0],l=a[1],d=Object(k.k)().pathname,b=Object(j.useState)(o.get("query")||""),O=Object(r.a)(b,2),p=O[0],h=O[1],m=Object(j.useMemo)((function(){return!(d.includes(s.Phone)||d.includes(s.Tablet)||d.includes(s.Accessor)||d.includes(s.Favorite))}),[d]);return Object(u.jsx)("nav",{className:E()("navigation",{"shopping-page":d.includes("shopping")}),children:d.includes("shopping")?Object(u.jsx)(T,{way:"/shopping",classStyle:"nav-link link-shopping ",children:Object(u.jsx)("div",{className:"count",children:c})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(T,{text:"home",way:"/",classStyle:"nav-link"}),Object(u.jsx)(T,{text:"phones",way:"/phones",classStyle:"nav-link"}),Object(u.jsx)(T,{text:"tablets",way:"/tablets",classStyle:"nav-link"}),Object(u.jsx)(T,{text:"accessories",way:"/accessories",classStyle:"nav-link"})]}),Object(u.jsxs)("div",{className:"wrapper-link-icon",children:[Object(u.jsxs)("label",{className:"search",children:[Object(u.jsx)("input",{className:E()({hidden:m}),value:p,onChange:function(e){var t=e.target.value;o.set("query",t),h(t),l(o),t||(o.delete("query"),l(o))},type:"text",placeholder:"Search in phones..."}),p&&Object(u.jsx)("button",{className:E()("clear",{hidden:m}),"data-cy":"searchDelete",type:"button",onClick:function(){h(""),o.delete("query"),l(o)},children:Object(u.jsx)("img",{src:"./img/icons/Close.png",alt:"close"})}),!p&&Object(u.jsx)("img",{className:E()({hidden:m}),src:"./img/icons/Search.png",alt:"search"})]}),Object(u.jsx)(T,{way:"/favorites",classStyle:"nav-link link-favorite",children:Object(u.jsx)("div",{className:"count",children:t})}),Object(u.jsx)(T,{way:"/shopping",classStyle:"nav-link link-shopping ",children:Object(u.jsx)("div",{className:"count",children:c})})]})]})})},M=function(){var e=Object(j.useContext)(y),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(j.useEffect)((function(){s({type:g,active:!0}),Object(C.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json").then((function(e){return e.json()}));case 2:t=e.sent,s({type:d,list:t}),s({type:g,active:!1});case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)(T,{way:"/",classStyle:"logo",active:!0,children:Object(u.jsx)("div",{className:"logo"})}),Object(u.jsx)(I,{favorite:c.favoriteProducts.length,shoping:c.basketList.length})]})},B=(c(39),function(){var e=Object(k.k)(),t=Object(k.o)().id,c=void 0===t?"":t,s=function(){var t=e.pathname.replace("/","").replace("/".concat(c),"");return t[0].toUpperCase()+t.slice(1)};return Object(u.jsxs)("div",{className:"wrapper-way",children:["Shopping"!==s()&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(T,{way:"/",classStyle:"home-link",children:Object(u.jsx)("img",{src:"./img/icons/Home.png",alt:"home"})}),Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"right"})]}),Object(u.jsxs)(i.b,{to:"/shopping"===e.pathname?"/":e.pathname.replace("/".concat(c),""),className:"page",children:["Shopping"===s()&&Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"left"}),"Shopping"===s()?"Back":s()]}),c&&Object(u.jsxs)("div",{className:"wrapper-productName",children:[Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"right"}),Object(u.jsx)("span",{children:c})]})]})}),D=c(27),U=function(e,t){localStorage.setItem(e,JSON.stringify(t))},G=function(e){return JSON.parse(localStorage.getItem(e))},J=(c(40),function(e){var t=e.product,c=Object(j.useContext)(y),s=Object(r.a)(c,2);Object(D.a)(s[0]);var n=s[1],a=t.item.price-t.item.price/100*t.item.discount;return Object(u.jsxs)("div",{className:"warpper-card-price","data-cy":"cartDeleteButton",children:[Object(u.jsx)("button",{type:"button",className:"delete",onClick:function(){n({type:h,age:t.item.age}),function(){var e=G("shoppingList")||[];e.length&&U("shoppingList",e.filter((function(e){return e.item.age!==t.item.age})))}()},children:Object(u.jsx)("img",{src:"./img/icons/Close.png",alt:"close"})}),Object(u.jsxs)("div",{className:"describe-card",children:[Object(u.jsx)("img",{src:"./".concat(t.item.imageUrl),alt:"product"}),Object(u.jsx)("h3",{children:t.item.name})]}),Object(u.jsxs)("div",{className:"count-product",children:[Object(u.jsx)("button",{type:"button",className:"count-product__button",onClick:function(){var e=G("shoppingList")||[];n({type:x,id:t.item.age}),e.map((function(e){e.item.age===t.item.age&&(e.value-=1)})),U("shoppingList",Object(o.a)(e))},disabled:1===t.value,children:"-"}),Object(u.jsx)("div",{className:"count-product__value",children:t.value}),Object(u.jsx)("button",{type:"button",className:"count-product__button",onClick:function(){var e=G("shoppingList")||[];n({type:m,id:t.item.age}),e.map((function(e){e.item.age===t.item.age&&(e.value+=1)})),U("shoppingList",Object(o.a)(e))},children:"+"})]}),Object(u.jsx)("h2",{className:"product-price",children:"$ ".concat(a*t.value)})]})}),q=(c(41),function(){var e=Object(j.useContext)(y),t=Object(r.a)(e,1)[0],c=Object(j.useState)(0),s=Object(r.a)(c,2),n=s[0],a=s[1];return Object(j.useEffect)((function(){a(t.basketList.map((function(e){return((t=e).item.price-t.item.price/100*t.item.discount)*e.value;var t})).reduce((function(e,t){return e+t}),0))}),[t.basketList]),Object(u.jsxs)("div",{className:"wrapper-shopping",children:[Object(u.jsx)(B,{}),Object(u.jsx)("h1",{children:"Cart"}),Object(u.jsx)("div",{className:"main-info-shopping",children:t.basketList.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"wrapper-shopping-cards",children:t.basketList.map((function(e){return Object(u.jsx)(J,{product:e},e.item.age)}))}),Object(u.jsxs)("div",{className:"total-info","data-cy":"productQauntity",children:[Object(u.jsxs)("div",{className:"total-info__cost",children:[Object(u.jsx)("h2",{children:"$".concat(n)}),Object(u.jsx)("span",{children:"Total for ".concat(t.basketList.length," items")})]}),Object(u.jsx)("div",{className:"total-info__checkout",children:Object(u.jsx)("button",{type:"button",children:"Checkout"})})]})]}):Object(u.jsx)("div",{children:"list shopping empty please choose product"})})]})}),H=(c(42),c(43),function(e){var t=e.product,c=Object(j.useContext)(y),s=Object(r.a)(c,2),n=s[0],a=s[1],i=Object(j.useState)(!1),l=Object(r.a)(i,2),d=l[0],b=l[1],O=function(){a({type:h,age:t.age}),function(){var e=G("shoppingList")||[];e.length&&U("shoppingList",e.filter((function(e){return e.item.age!==t.age})))}()};Object(j.useEffect)((function(){b(n.basketList.some((function(e){return e.item.age===t.age})))}),[n.basketList,n.selectedProduct]);return Object(u.jsx)("button",{type:"button",className:E()("card-button",{selected:d}),onClick:function(){return d?O():(e=t,void(n.basketList.some((function(t){return t.item===e}))||(a({type:p,product:{item:e,value:1}}),U("shoppingList",[].concat(Object(o.a)(n.basketList),[{item:e,value:1}])))));var e},children:d?"Added to cart":"Add to cart"})}),V=(c(44),function(e){var t=e.product,c=Object(j.useContext)(y),s=Object(r.a)(c,2),n=s[0],a=s[1],i=Object(j.useState)(!1),l=Object(r.a)(i,2),d=l[0],p=l[1];return Object(j.useEffect)((function(){p(n.favoriteProducts.some((function(e){return e.age===t.age})))}),[n.favoriteProducts,n.selectedProduct]),Object(u.jsx)("button",{type:"button","data-cy":"addToFavorite",className:"like-button",onClick:d?function(){a({type:O,age:t.age}),function(){var e=JSON.parse(localStorage.getItem("likeList"))||[];p(!1),e.length&&U("likeList",e.filter((function(e){return e.age!==t.age})))}()}:function(){a({type:b,product:t}),U("likeList",[].concat(Object(o.a)(n.favoriteProducts),[t]))},children:Object(u.jsx)("img",{className:"hearth",src:"./img/icons/".concat(d?"fullHearth.png":"Hearth.png"),alt:"hearth"})})}),$=(c(45),function(e){var t=e.product,c=Object(j.useContext)(y),s=Object(r.a)(c,2)[1],n=Object(k.k)(),a=Object(k.o)().id,i=void 0===a?"":a;return Object(u.jsxs)("div",{className:"container-card","data-cy":"cardsContainer",children:[Object(u.jsx)("img",{src:"./".concat(t.imageUrl),alt:"product",className:"container-card__product"}),Object(u.jsx)(T,{way:"/"===n.pathname?"".concat(t.type,"s/").concat(t.id):"".concat(n.pathname.replace("/".concat(i),""),"/").concat(t.id),onClick:function(){s({type:f,product:t}),U("product",t)},classStyle:"card-title",active:!0,children:t.name}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsxs)("span",{className:"price__current",children:["$",Math.floor(t.price-t.price/100*t.discount)]}),t.discount?Object(u.jsxs)("span",{className:"price__old",children:["$",t.price]}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsxs)("div",{className:"describe",children:[Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"Screen"}),Object(u.jsx)("span",{className:"value",children:t.screen})]}),Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"Capacity"}),Object(u.jsx)("span",{className:"value",children:t.capacity?"".concat(parseInt(t.capacity,10)/1e3,"GB"):"No data"})]}),Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"RAM"}),Object(u.jsxs)("span",{className:"value",children:[" ",t.ram?"".concat(parseInt(t.ram,10)/1e3,"GB"):"No data"]})]}),Object(u.jsxs)("div",{className:"describe__buttons",children:[Object(u.jsx)(H,{product:t}),Object(u.jsx)(V,{product:t})]})]})]})}),W=function(){var e=Object(j.useContext)(y),t=Object(r.a)(e,1)[0];return Object(u.jsxs)("div",{className:"favorite",children:[Object(u.jsx)(B,{}),Object(u.jsx)("h2",{className:"favorite-title",children:"Favorites"}),t.favoriteProducts.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"count-product",children:"".concat(t.favoriteProducts.length," ").concat(t.favoriteProducts.length>1?"items":"item")}),Object(u.jsx)("div",{className:"list-favorite-wrapper",children:t.favoriteProducts.map((function(e){return Object(u.jsx)($,{product:e},e.age)}))})]}):Object(u.jsx)("div",{children:"List is empty, please choose device "})]})},z=function(){var e=Object(j.useState)(window.innerWidth),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(j.useEffect)((function(){window.addEventListener("resize",(function(){s(window.innerWidth)}))}),[window.innerWidth]),c},K=(c(46),function(e){var t=e.children,c=e.step,s=e.setStep,n=e.leftButton,a=e.rightButton,i=e.countElement,l=void 0===i?1:i,d=e.items,b=Object(j.useRef)(null),O=Object(j.useState)(0),p=Object(r.a)(O,2),h=p[0],m=p[1],x=Object(j.useState)(!0),f=Object(r.a)(x,2),g=f[0],v=f[1],N=Object(j.useState)(0),y=Object(r.a)(N,2),S=y[0],k=y[1],w=Object(j.useState)({left:0,rigth:0}),C=Object(r.a)(w,2),_=C[0],L=C[1],P=Object(j.useState)(Object(o.a)(Array(Math.ceil(t.length/l))).map((function(){return!0}))),A=Object(r.a)(P,2),R=A[0],T=A[1],F=z();Object(j.useEffect)((function(){T(Object(o.a)(Array(Math.ceil(t.length/l))).map((function(){return 1})).map((function(){return!0})))}),[l]),Object(j.useEffect)((function(){if(b.current){var e=document.querySelector(".".concat(b.current.children[0].className)),t=e.offsetWidth,c=parseInt(getComputedStyle(e).marginLeft,10),s=parseInt(getComputedStyle(e).marginRight,10);L({left:c,rigth:s}),S||k((s+c+t)*l),k((s+c+t)*l)}}),[F,S]);return Object(j.useEffect)((function(){var e=function(){return setTimeout((function(){v(!0),s(-Math.ceil(t.length/l))}),200)},n=function(){return setTimeout((function(){v(!0),s(-1)}),200)};return 0===c&&e(),Math.abs(c)>t.length/l&&n(),function(){clearTimeout(e()),clearTimeout(n())}}),[c]),Object(j.useEffect)((function(){var e=function(){return setTimeout((function(){return v(!1)}),100)};return g&&e(),function(){return clearTimeout(e())}}),[g]),Object(j.useEffect)((function(){m(S)}),[F,S,l]),Object(u.jsxs)("div",{className:"slider-container",children:[Object(u.jsxs)("div",{className:"wrapper-content",children:[Object(u.jsx)("button",{onClick:function(){g||s(c+1)},type:"button",className:"button",children:n}),Object(u.jsx)("div",{className:"slider-window",style:{width:"".concat(S,"px")},children:Object(u.jsxs)("div",{className:E()("tracer",{"transition-without-animation":g}),style:{transform:"translate(".concat(c*h,"px)")},children:[Object(u.jsx)("div",{ref:b,style:{marginLeft:"".concat(_.left,"px"),marginRight:"".concat(_.rigth,"px")},children:t[t.length-1]}),t,t]})}),Object(u.jsx)("button",{type:"button",onClick:function(){g||s(c-1)},className:"button",children:a})]}),Object(u.jsx)("div",{className:"slider-buttom",children:d&&R.map((function(e,t){return Object(u.jsx)("button",{type:"button",className:E()({active:-(t+1)===c}),onClick:function(){s(-(t+1))},children:e},99*Math.random()+1)}))})]})}),Q=(c(47),["./img/banners/banner-accessories.png","./img/banners/banner-phones.png","./img/banners/banner-tablets.png"]),Y=function(){var e=Object(j.useState)(-1),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(u.jsx)("div",{className:"wrapper-banner",children:Object(u.jsx)(K,{step:c,setStep:s,leftButton:Object(u.jsx)("div",{className:"arrow",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"prev"})}),rightButton:Object(u.jsx)("div",{className:"arrow",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"next"})}),items:!0,children:Q.map((function(e){return Object(u.jsx)("div",{className:"baner",style:{backgroundImage:"url(".concat(e,")")}},e)}))})})},X=(c(48),function(){var e=Object(j.useContext)(y),t=Object(r.a)(e,1)[0];return Object(u.jsxs)("div",{className:"wrapper-catalogs",children:[Object(u.jsx)(T,{way:"/phones",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/phone.png",alt:"phones"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Mobile phones"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"phone"===e.type})).length," ","models"]})]})]})}),Object(u.jsx)(T,{way:"/tablets",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/tablets.png",alt:"tablets"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Tablets"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.length," ","models"]})]})]})}),Object(u.jsx)(T,{way:"/accessories",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/accessories.png",alt:"accessories"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Accessories"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"accessories"===e.type})).length," ","models"]})]})]})})]})}),Z=(c(49),function(){return Object(u.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(u.jsx)("div",{className:"Loader__content"})})}),ee=(c(50),function(e){var t=e.title,c=e.list,s=Object(j.useState)(-1),n=Object(r.a)(s,2),a=n[0],i=n[1],o=Object(j.useState)(4),l=Object(r.a)(o,2),d=l[0],b=l[1],O=z();Object(j.useEffect)((function(){O>1200&&b(4),O<1200&&b(3),O<768&&b(2),O<540&&b(1)}),[O]);var p=Object(j.useMemo)((function(){return c.length?Object(u.jsx)(K,{step:a,setStep:i,leftButton:Object(u.jsx)("div",{className:"prev",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"prev"})}),rightButton:Object(u.jsx)("div",{className:"next",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"next"})}),countElement:d,children:c.map((function(e){return Object(u.jsx)($,{product:e},e.age)}))}):Object(u.jsx)(u.Fragment,{})}),[c,a,d,O]);return Object(u.jsx)("div",{className:"product",children:Object(u.jsxs)("div",{className:"test",children:[Object(u.jsx)("h2",{className:"product-title",children:t}),Object(u.jsx)("div",{className:"wrapper-slider-product",children:p})]})})}),te=(c(51),function(){var e=Object(j.useContext)(y),t=Object(r.a)(e,1)[0];return Object(u.jsx)("section",{className:"contant",children:t.loader?Object(u.jsx)(Z,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Y,{}),Object(u.jsx)(ee,{title:"Hot prices",list:t.catalogsProducts.filter((function(e){return e.discount}))}),Object(u.jsx)(X,{}),Object(u.jsx)(ee,{title:"Brand new models",list:t.catalogsProducts.filter((function(e){return!e.discount}))})]})})}),ce=(c(52),function(e){var t=e.listOptions,c=e.selected,s=e.choosSelected,n=e.lengthList,a=Object(i.d)(),o=Object(r.a)(a,2),l=o[0],d=o[1],b=Object(j.useState)(!1),O=Object(r.a)(b,2),p=O[0],h=O[1],m=Object(k.k)().pathname;Object(j.useEffect)((function(){h(!1)}),[m]);var x=function(){h((function(e){return!e}))};return Object(j.useEffect)((function(){n&&(t.forEach((function(e){n<+e&&s("".concat(n))})),n>+c&&s("".concat(n)))}),[n]),Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsxs)("div",{className:"currently-value",onClick:x,onKeyDown:x,children:[c,Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"arrow",className:E()("close",{open:p})})]}),Object(u.jsx)("div",{className:E()("elements",{"active-menu":p}),children:t.map((function(e){var t=!!n&&n<+e;return Object(u.jsx)("button",{type:"button",disabled:t,onClick:function(){return t=e,n||(l.set("sort",t),d(l)),n&&(l.set("perPage",t),d(l)),s(t),void h(!1);var t},className:E()({selected:e===c,disable:t}),children:e},e)}))})]})}),se=(c(53),c(54),function(e){var t=e.prev,c=e.next,s=e.currentStep,n=e.stepsCount,a=e.setCurrenStep,i=e.setNumberStep;return Object(u.jsxs)("div",{className:"wrapper-pagination",children:[Object(u.jsx)("button",{type:"button",onClick:t,className:"paggination-arrow","data-cy":"paginationLeft",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"left"})}),Object(u.jsx)("div",{className:"steps",children:n.map((function(e,t){return Object(u.jsx)("button",{type:"button",onClick:function(){return function(e){a(e),i(e)}(t)},className:E()("item-step",{"active-step":s===t}),children:t+1},e)}))}),Object(u.jsx)("button",{type:"button",onClick:c,className:"paggination-arrow","data-cy":"paginationRight",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"right"})})]})});!function(e){e.name="Name",e.price="Price",e.ram="Ram",e.screen="Screen",e.age="Age"}(F||(F={}));var ne=["16","8","4"],ae=function(){var e=Object(i.d)(),t=Object(r.a)(e,1)[0],c=Object(k.k)().pathname,s=Object(j.useState)(t.get("sort")||"Default"),n=Object(r.a)(s,2),a=n[0],l=n[1],d=Object(j.useState)(t.get("perPage")||"16"),b=Object(r.a)(d,2),O=b[0],p=b[1],h=Object(j.useState)(0),m=Object(r.a)(h,2),x=m[0],f=m[1],g=Object(j.useState)(16),v=Object(r.a)(g,2),N=v[0],S=v[1],w=Object(j.useState)(0),C=Object(r.a)(w,2),_=C[0],L=C[1],P=Object(j.useState)([]),E=Object(r.a)(P,2),A=E[0],R=E[1],T=Object(j.useContext)(y),I=Object(r.a)(T,1)[0],M=t.get("query");Object(j.useEffect)((function(){window.scroll({top:0,left:0,behavior:"smooth"})}),[]);var D=Object(j.useMemo)((function(){return c.includes("phones")?I.catalogsProducts.filter((function(e){return"phone"===e.type})):c.includes("tablets")?I.catalogsProducts.filter((function(e){return"tablet"===e.type})):I.catalogsProducts.filter((function(e){return"accessorie"===e.type}))}),[c,I.catalogsProducts]);Object(j.useEffect)((function(){f(0),S(+O)}),[O,c]);var U=Object(j.useMemo)((function(){var e=Object(o.a)(D);switch(a){case F.name:return e.sort((function(e,t){return e.name.localeCompare(t.name)}));case F.price:return e.sort((function(e,t){return t.price-e.price}));case F.ram:return e.sort((function(e,t){return parseFloat(e.ram)-parseFloat(t.ram)}));case F.screen:return e.sort((function(e,t){return parseFloat(e.screen)-parseFloat(t.screen)}));case F.age:return e.sort((function(e,t){return t.age-e.age}));default:return e}}),[a,I.catalogsProducts,c]),G=Object(j.useMemo)((function(){var e=Object(o.a)(U);return M?e.filter((function(e){return e.name.toLowerCase().includes(M.toLowerCase())})):e}),[t.get("query"),U]);return Object(j.useEffect)((function(){var e=Math.floor(D.length/+O);R(Array(e).fill(""))}),[D,O]),Object(u.jsxs)("section",{className:"products",children:[M?Object(u.jsx)("div",{className:"result",children:"".concat(G.length," ").concat(G.length>1?"results":"result")}):Object(u.jsx)(B,{}),M?"":Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"products__describe",children:[Object(u.jsx)("h1",{children:c.includes("phones")?"Mobile phones":c.includes("tablets")?"Tablets":"Accessories"}),Object(u.jsxs)("span",{children:[D.length," ","model"]})]}),G.length?Object(u.jsxs)("div",{className:"products__dropdowns",children:[Object(u.jsxs)("div",{className:"drop-first",children:[Object(u.jsx)("h3",{children:"Sort by"}),Object(u.jsx)(ce,{listOptions:["Name","Price","Ram","Screen","Age"],selected:a,choosSelected:l})]}),Object(u.jsxs)("div",{className:"drop-second",children:[Object(u.jsx)("h3",{children:"Items on page"}),Object(u.jsx)(ce,{listOptions:ne,selected:O,choosSelected:p,lengthList:D.length})]})]}):Object(u.jsx)(u.Fragment,{})]}),I.loader?Object(u.jsx)(Z,{}):Object(u.jsx)("div",{className:"pagination","data-cy":"productList",children:G.slice(x,N).map((function(e){return Object(u.jsx)("div",{className:"pagination__wrapper-card",children:Object(u.jsx)($,{product:e})},e.age)}))}),!M&&G.length>4?Object(u.jsx)(se,{prev:function(){x&&(f(x-+O),S(N-+O),L(_-1))},next:function(){N<D.length&&(f(N),S(N+ +O),L(_+1))},currentStep:_,stepsCount:A,setCurrenStep:L,setNumberStep:function(e){x&&e<_&&(f(x-(_-e)*+O),S(N-(_-e)*+O)),N<D.length&&e>_&&(f(x+(e-_)*+O),S(N+(e-_)*+O))}}):Object(u.jsx)(u.Fragment,{}),!G.length&&Object(u.jsx)("div",{children:"List products is empty, please check later"})]})},ie=function(e){var t=e.text;return Object(u.jsx)("div",{children:Object(u.jsx)("h2",{children:t})})},re=(c(55),["64GB","256GB","512GB"]),oe=function(){var e=Object(j.useState)(re[0]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(u.jsxs)("div",{className:"capacity",children:[Object(u.jsx)("span",{children:"Select capacity"}),Object(u.jsx)("div",{className:"capacity__button",children:re.map((function(e){return Object(u.jsx)("button",{className:E()({"active-memory":e===c}),type:"button",onClick:function(){s(e)},children:e},e)}))})]})},le=(c(56),["#FCDBC1","#5F7170","#4C4C4C","#F0F0F0"]),je=function(){var e=Object(j.useState)(le[0]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(u.jsxs)("div",{className:"colors",children:[Object(u.jsx)("span",{children:"Available colors"}),Object(u.jsx)("div",{className:"wrapper-colors",children:le.map((function(e){return Object(u.jsx)("button",{type:"button",className:E()("color",{active:e===c}),onClick:function(){s(e)},children:Object(u.jsx)("div",{style:{backgroundColor:"".concat(e)}})},e)}))})]})},ue=(c(57),function(e){var t=e.listImages,c=Object(j.useState)(t[0]),s=Object(r.a)(c,2),n=s[0],a=s[1];Object(j.useEffect)((function(){a(t[0])}),[t]);return Object(u.jsxs)("div",{className:"list-photo-details",children:[Object(u.jsx)("div",{className:"wrapper-photo",children:t.map((function(e){return Object(u.jsx)("button",{type:"button",className:"list-photo-details__image",onClick:function(){return t="./".concat(e),void a(t);var t},children:Object(u.jsx)("img",{src:"./".concat(e),alt:"product"})},e)}))}),Object(u.jsx)("div",{className:"wrapper-photo",children:Object(u.jsx)("img",{src:n,alt:"selected"})})]})}),de=(c(58),function(e){var t=e.title,c=e.value;return Object(u.jsxs)("div",{className:"property",children:[Object(u.jsx)("span",{className:"property__title",children:t}),Object(u.jsx)("span",{className:"property__value",children:c})]})}),be=(c(59),function(e){var t,c,s=e.details,n=Object(j.useContext)(y),a=Object(r.a)(n,1)[0],i=Object(j.useMemo)((function(){var e,t,c;return a.selectedProduct?Math.floor((null===(e=a.selectedProduct)||void 0===e?void 0:e.price)-(null===(t=a.selectedProduct)||void 0===t?void 0:t.price)/100*(null===(c=a.selectedProduct)||void 0===c?void 0:c.discount)):0}),[a.selectedProduct]);return Object(u.jsxs)("div",{className:"details-product-price",children:[Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"price__new",children:"$".concat(i)}),Object(u.jsx)("span",{className:"price__old",children:i!==(null===(t=a.selectedProduct)||void 0===t?void 0:t.price)&&(null===(c=a.selectedProduct)||void 0===c?void 0:c.price)})]}),Object(u.jsxs)("div",{className:"price-buttons",children:[Object(u.jsx)(H,{product:a.selectedProduct}),Object(u.jsx)(V,{product:a.selectedProduct})]}),Object(u.jsx)("div",{className:"specs",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(de,{title:"Screen",value:s.display.screenSize}),Object(u.jsx)(de,{title:"Resolution",value:s.display.screenResolution}),Object(u.jsx)(de,{title:"Processor",value:s.hardware.cpu}),Object(u.jsx)(de,{title:"RAM",value:s.storage.ram})]})})]})}),Oe=(c(60),function(){var e=Object(j.useContext)(y),t=Object(r.a)(e,1)[0],c=Object(k.o)().id,s=void 0===c?"":c,n=Object(j.useState)(null),a=Object(r.a)(n,2),i=a[0],o=a[1],l=Object(j.useState)(!1),d=Object(r.a)(l,2),b=d[0],O=d[1];Object(j.useEffect)((function(){window.scroll({top:0,left:0,behavior:"smooth"}),s&&function(e){return fetch("https://mate-academy.github.io/react_phone-catalog/api/products/".concat(e,".json")).then((function(e){return e.json()}))}(s).then((function(e){return o(e)})).catch((function(){return O(!0)}))}),[s]);var p=Object(j.useMemo)((function(){return i&&!b?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:i.name}),Object(u.jsxs)("div",{className:"wrapper-info",children:[Object(u.jsx)(ue,{listImages:i.images}),Object(u.jsxs)("div",{children:[Object(u.jsx)(je,{}),Object(u.jsx)(oe,{}),Object(u.jsx)(be,{details:i})]})]}),Object(u.jsxs)("div",{className:"describe-details",children:[Object(u.jsxs)("div",{className:"describe-details__about",children:[Object(u.jsx)("h2",{children:"About"}),Object(u.jsx)("p",{children:i.description})]}),Object(u.jsxs)("div",{className:"describe-details__tech",children:[Object(u.jsx)("h2",{children:"Tech specs"}),Object(u.jsxs)("div",{children:[Object(u.jsx)(de,{title:"Sreen",value:i.display.screenSize}),Object(u.jsx)(de,{title:"Resolution",value:i.display.screenResolution}),Object(u.jsx)(de,{title:"Processor",value:i.hardware.cpu}),Object(u.jsx)(de,{title:"RAM",value:i.storage.ram}),Object(u.jsx)(de,{title:"Built in memory",value:i.storage.flash}),Object(u.jsx)(de,{title:"Camera",value:i.camera.primary}),Object(u.jsx)(de,{title:"Cell",value:i.connectivity.cell})]})]})]})]}):Object(u.jsx)(ie,{text:"Something went wrong please check your connect with internet"})}),[i,b]);return Object(u.jsxs)("section",{className:"details-wrapper",children:[Object(u.jsx)(B,{}),i?p:Object(u.jsx)(Z,{}),Object(u.jsx)(ee,{title:"You may also like",list:t.catalogsProducts.filter((function(e){var c;return e.type===(null===(c=t.selectedProduct)||void 0===c?void 0:c.type)}))})]})}),pe=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(M,{}),Object(u.jsx)("main",{className:"main",children:Object(u.jsxs)(k.c,{children:[Object(u.jsx)(k.a,{path:"*",element:Object(u.jsx)("h1",{children:"Page not found"})}),Object(u.jsx)(k.a,{path:"/",element:Object(u.jsx)(te,{})}),Object(u.jsxs)(k.a,{path:"/",element:Object(u.jsx)(ae,{}),children:[Object(u.jsx)(k.a,{path:"phones",element:Object(u.jsx)(ae,{})}),Object(u.jsx)(k.a,{path:"tablets",element:Object(u.jsx)(ae,{})}),Object(u.jsx)(k.a,{path:"accessories",element:Object(u.jsx)(ae,{})})]}),Object(u.jsx)(k.a,{path:"phones",element:Object(u.jsx)(Oe,{}),children:Object(u.jsx)(k.a,{path:":id",element:Object(u.jsx)(Oe,{})})}),Object(u.jsx)(k.a,{path:"tablets",element:Object(u.jsx)(Oe,{}),children:Object(u.jsx)(k.a,{path:":id",element:Object(u.jsx)(Oe,{})})}),Object(u.jsx)(k.a,{path:"/favorites",element:Object(u.jsx)(W,{})}),Object(u.jsx)(k.a,{path:"/shopping",element:Object(u.jsx)(q,{})})]})}),Object(u.jsx)(w,{})]})};a.a.render(Object(u.jsx)(S,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(pe,{})})}),document.getElementById("root"))}]),[[61,1,2]]]);
//# sourceMappingURL=main.72a69797.chunk.js.map