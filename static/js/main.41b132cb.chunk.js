(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(33).concat([function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s,n=c(26),a=c.n(n),r=c(10),i=c(2),o=c(6),l=c(8),j=c(1),u=c(0),d={catalogsProducts:[],favoriteProducts:JSON.parse(localStorage.getItem("likeList"))||[],basketList:JSON.parse(localStorage.getItem("shoppingList"))||[],selectedProduct:JSON.parse(localStorage.getItem("product"))||null,loader:!1},b=function(e,t){switch(t.type){case"addCatalog":return Object(l.a)(Object(l.a)({},e),{},{catalogsProducts:t.list});case"addFavorite":return Object(l.a)(Object(l.a)({},e),{},{favoriteProducts:[].concat(Object(o.a)(e.favoriteProducts),[t.product])});case"removeFavorite":return Object(l.a)(Object(l.a)({},e),{},{favoriteProducts:e.favoriteProducts.filter((function(e){return e.age!==t.age}))});case"addBasket":return Object(l.a)(Object(l.a)({},e),{},{basketList:[].concat(Object(o.a)(e.basketList),[t.product])});case"riseValueProduct":return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.map((function(e){return e.item.age===t.id&&(e.value+=1),e}))});case"reductionValueProduct":return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.map((function(e){return e.item.age===t.id&&(e.value-=1),e}))});case"removeProductInBasket":return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.filter((function(e){return e.item.age!==t.age}))});case"selectProduct":return Object(l.a)(Object(l.a)({},e),{},{selectedProduct:t.product});case"load":return Object(l.a)(Object(l.a)({},e),{},{loader:t.active});default:return e}},O=Object(j.createContext)([d,function(e){return e}]),p=function(e){var t=e.children,c=Object(j.useReducer)(b,d),s=Object(i.a)(c,2),n=s[0],a=s[1];return Object(u.jsx)(O.Provider,{value:[n,a],children:t})},h=c(4),m=(c(33),c(34),c(9)),x=c.n(m),f=c(27),g=["text","way","children","classStyle"],v=function(e){var t=e.text,c=e.way,s=e.children,n=e.classStyle,a=Object(f.a)(e,g),i=Object(h.k)().search;return Object(u.jsx)(r.c,Object(l.a)(Object(l.a)({style:{textDecoration:"none"},className:function(e){var t=e.isActive;return x()("".concat(n),{"active-link":t})},to:"".concat(c).concat(i)},a),{},{children:s||t}))},N=(c(36),function(e){var t=e.favorite,c=e.shoping,s=Object(r.d)(),n=Object(i.a)(s,2),a=n[0],o=n[1],l=Object(h.k)().pathname,d=Object(j.useState)(a.get("query")||""),b=Object(i.a)(d,2),O=b[0],p=b[1];return Object(u.jsx)("nav",{className:x()("navigation",{"shopping-page":l.includes("shopping")}),children:l.includes("shopping")?Object(u.jsx)(v,{way:"/shopping",classStyle:"nav-link link-shopping ",children:Object(u.jsx)("div",{className:"count",children:c})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(v,{text:"home",way:"/",classStyle:"nav-link"}),Object(u.jsx)(v,{text:"phones",way:"/phones",classStyle:"nav-link"}),Object(u.jsx)(v,{text:"tablets",way:"/tablets",classStyle:"nav-link"}),Object(u.jsx)(v,{text:"accessories",way:"/accessories",classStyle:"nav-link"})]}),Object(u.jsxs)("div",{className:"wrapper-link-icon",children:[Object(u.jsx)("input",{disabled:!l.replace("/",""),value:O,onChange:function(e){a.set("query",e.target.value),p(e.target.value),o(a),e.target.value||(a.delete("query"),o(a))},type:"text",className:"search",placeholder:"Search in phones..."}),Object(u.jsx)(v,{way:"/favourites",classStyle:"nav-link link-favorite",children:Object(u.jsx)("div",{className:"count",children:t})}),Object(u.jsx)(v,{way:"/shopping",classStyle:"nav-link link-shopping ",children:Object(u.jsx)("div",{className:"count",children:c})})]})]})})}),y=function(){var e=Object(j.useContext)(O),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(j.useEffect)((function(){s({type:"load",active:!0}),fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json").then((function(e){return e.json()})).then((function(e){s({type:"addCatalog",list:e}),s({type:"load",active:!1})}))}),[]),Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{className:"logo"}),Object(u.jsx)(N,{favorite:c.favoriteProducts.length,shoping:c.basketList.length})]})},S=(c(37),function(){var e=Object(h.k)(),t=Object(h.o)().id,c=void 0===t?"":t,s=function(){var t=e.pathname.replace("/","").replace("/".concat(c),"");return t[0].toUpperCase()+t.slice(1)};return Object(u.jsxs)("div",{className:"wrapper-way",children:["Shopping"!==s()?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{way:"/",classStyle:"home-link",children:Object(u.jsx)("img",{src:"./img/icons/Home.png",alt:"home"})}),Object(u.jsx)("img",{src:"../../img/icons/Right.png",alt:"right"})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(r.b,{to:"/shopping"===e.pathname?"/":e.pathname.replace("/".concat(c),""),className:"page",children:["Shopping"===s()&&Object(u.jsx)("img",{src:"../../img/icons/Left.png",alt:"left"}),"Shopping"===s()?"Back":s()]}),c&&Object(u.jsxs)("div",{className:"wrapper-productName",children:[Object(u.jsx)("img",{src:"../../img/icons/Right.png",alt:"right"}),Object(u.jsx)("span",{children:c})]})]})}),k=c(24),w=(c(38),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(i.a)(c,2);Object(k.a)(s[0]);var n=s[1],a=t.item.price-t.item.price/100*t.item.discount;return Object(u.jsxs)("div",{className:"warpper-card-price","data-cy":"cartDeleteButton",children:[Object(u.jsx)("button",{type:"button",className:"delete",onClick:function(){n({type:"removeProductInBasket",age:t.item.age}),function(){var e=JSON.parse(localStorage.getItem("shoppingList"))||[];e.length&&localStorage.setItem("shoppingList",JSON.stringify(e.filter((function(e){return e.item.age!==t.item.age}))))}()},children:Object(u.jsx)("img",{src:"./img/icons/Close.png",alt:"close"})}),Object(u.jsxs)("div",{className:"describe-card",children:[Object(u.jsx)("img",{src:"./".concat(t.item.imageUrl),alt:"product"}),Object(u.jsx)("h3",{children:t.item.name})]}),Object(u.jsxs)("div",{className:"count-product",children:[Object(u.jsx)("button",{type:"button",className:"count-product__button",onClick:function(){n({type:"reductionValueProduct",id:t.item.age})},disabled:1===t.value,children:"-"}),Object(u.jsx)("div",{className:"count-product__value",children:t.value}),Object(u.jsx)("button",{type:"button",className:"count-product__button",onClick:function(){n({type:"riseValueProduct",id:t.item.age})},children:"+"})]}),Object(u.jsx)("h2",{className:"product-price",children:"$ ".concat(a*t.value)})]})}),C=(c(39),function(){var e=Object(j.useContext)(O),t=Object(i.a)(e,1)[0],c=Object(j.useState)(0),s=Object(i.a)(c,2),n=s[0],a=s[1];return Object(j.useEffect)((function(){a(t.basketList.map((function(e){return((t=e).item.price-t.item.price/100*t.item.discount)*e.value;var t})).reduce((function(e,t){return e+t}),0))}),[t.basketList]),Object(u.jsxs)("div",{className:"wrapper-shopping",children:[Object(u.jsx)(S,{}),Object(u.jsx)("h1",{children:"Cart"}),Object(u.jsx)("div",{className:"main-info-shopping",children:t.basketList.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"wrapper-shopping-cards",children:t.basketList.map((function(e){return Object(u.jsx)(w,{product:e},e.item.age)}))}),Object(u.jsxs)("div",{className:"total-info","data-cy":"productQauntity",children:[Object(u.jsxs)("div",{className:"total-info__cost",children:[Object(u.jsx)("h2",{children:n}),Object(u.jsx)("span",{children:"Total for ".concat(t.basketList.length," items")})]}),Object(u.jsx)("div",{className:"total-info__checkout",children:Object(u.jsx)("button",{type:"button",children:"Checkout"})})]})]}):Object(u.jsx)("div",{children:"list shopping empty please choose product"})})]})}),_=(c(40),c(41),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(i.a)(c,2),n=s[0],a=s[1],r=Object(j.useState)(!1),l=Object(i.a)(r,2),d=l[0],b=l[1];return Object(j.useEffect)((function(){n.basketList.some((function(e){return e.item.age===t.age}))&&b(!0)}),[n.basketList]),Object(u.jsx)("button",{type:"button",className:x()("card-button",{selected:d}),onClick:function(){return e=t,void(n.basketList.some((function(t){return t.item===e}))||(a({type:"addBasket",product:{item:e,value:1}}),localStorage.setItem("shoppingList",JSON.stringify([].concat(Object(o.a)(n.basketList),[{item:e,value:1}])))));var e},children:d?"Added to cart":"Add to cart"})}),P=(c(42),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(i.a)(c,2),n=s[0],a=s[1],r=Object(j.useState)(!1),l=Object(i.a)(r,2),d=l[0],b=l[1],p=function(){a({type:"removeFavorite",age:t.age}),function(){var e=JSON.parse(localStorage.getItem("likeList"))||[];b(!1),e.length&&localStorage.setItem("likeList",JSON.stringify(e.filter((function(e){return e.age!==t.age}))))}()};return Object(j.useEffect)((function(){n.favoriteProducts.some((function(e){return e.age===t.age}))&&b(!0)}),[n.favoriteProducts]),Object(u.jsx)("button",{type:"button","data-cy":"addToFavorite",className:"like-button",onClick:function(){return d?p():(a({type:"addFavorite",product:t}),void localStorage.setItem("likeList",JSON.stringify([].concat(Object(o.a)(n.favoriteProducts),[t]))))},children:Object(u.jsx)("img",{className:"hearth",src:"./img/icons/".concat(d?"fullHearth.png":"Hearth.png"),alt:"hearth"})})}),L=(c(43),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(i.a)(c,2);Object(k.a)(s[0]);var n=s[1],a=Object(h.k)(),r=Object(h.o)().id,o=void 0===r?"":r;return Object(u.jsxs)("div",{className:"container-card","data-cy":"cardsContainer",children:[Object(u.jsx)("img",{src:"./".concat(t.imageUrl),alt:"product"}),Object(u.jsx)(v,{way:"/"===a.pathname?"".concat(t.type,"s/").concat(t.id):"".concat(a.pathname.replace("/".concat(o),""),"/").concat(t.id),onClick:function(){n({type:"selectProduct",product:t}),localStorage.setItem("product",JSON.stringify(t))},classStyle:"card-title",children:t.name}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsxs)("span",{className:"price__current",children:["$",Math.floor(t.price-t.price/100*t.discount)]}),t.discount?Object(u.jsxs)("span",{className:"price__old",children:["$",t.price]}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsxs)("div",{className:"describe",children:[Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"Screen"}),Object(u.jsx)("span",{className:"value",children:t.screen})]}),Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"Capacity"}),Object(u.jsx)("span",{className:"value",children:t.capacity?"".concat(parseInt(t.capacity,10)/1e3,"GB"):"No data"})]}),Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"RAM"}),Object(u.jsxs)("span",{className:"value",children:[" ",t.ram?"".concat(parseInt(t.ram,10)/1e3,"GB"):"No data"]})]}),Object(u.jsxs)("div",{className:"describe__buttons",children:[Object(u.jsx)(_,{product:t}),Object(u.jsx)(P,{product:t})]})]})]})}),F=function(){var e=Object(j.useContext)(O),t=Object(i.a)(e,1)[0];return Object(u.jsxs)("div",{className:"favorite",children:[Object(u.jsx)(S,{}),Object(u.jsx)("h2",{className:"favorite-title",children:"Favourites"}),t.favoriteProducts.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"count-product",children:"".concat(t.favoriteProducts.length," ").concat(t.favoriteProducts.length>1?"items":"item")}),Object(u.jsx)("div",{className:"list-favorite-wrapper",children:t.favoriteProducts.map((function(e){return Object(u.jsx)(L,{product:e},e.age)}))})]}):Object(u.jsx)("div",{children:"List is empty, please choose device "})]})},B=function(){var e=Object(j.useState)(window.innerWidth),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(j.useEffect)((function(){window.addEventListener("resize",(function(){s(window.innerWidth)}))}),[window.innerWidth]),c},I=(c(44),function(e){var t=e.children,c=e.step,s=e.setStep,n=e.leftButton,a=e.rightButton,r=e.countElement,o=void 0===r?1:r,l=Object(j.useRef)(null),d=Object(j.useState)(0),b=Object(i.a)(d,2),O=b[0],p=b[1],h=Object(j.useState)(!0),m=Object(i.a)(h,2),f=m[0],g=m[1],v=Object(j.useState)(0),N=Object(i.a)(v,2),y=N[0],S=N[1],k=Object(j.useState)({left:0,rigth:0}),w=Object(i.a)(k,2),C=w[0],_=w[1],P=B();Object(j.useEffect)((function(){if(l.current){var e=document.querySelector(".".concat(l.current.children[0].className)),t=e.offsetWidth,c=parseInt(getComputedStyle(e).marginLeft,10),s=parseInt(getComputedStyle(e).marginRight,10);_({left:c,rigth:s}),y||S((s+c+t)*o),S((s+c+t)*o)}}),[P,y]);return Object(j.useEffect)((function(){var e=function(){return setTimeout((function(){g(!0),s(-Math.ceil(t.length/o))}),200)},n=function(){return setTimeout((function(){g(!0),s(-1)}),200)};return 0===c&&e(),Math.abs(c)>t.length/o&&n(),function(){clearTimeout(e()),clearTimeout(n())}}),[c]),Object(j.useEffect)((function(){var e=function(){return setTimeout((function(){return g(!1)}),100)};return f&&e(),function(){return clearTimeout(e())}}),[f]),Object(j.useEffect)((function(){p(y)}),[P,y,o]),Object(u.jsxs)("div",{className:"slider-container",children:[Object(u.jsx)("button",{onClick:function(){f||s(c+1)},type:"button",className:"button",children:n}),Object(u.jsx)("div",{className:"slider-window",style:{width:"".concat(y,"px")},children:Object(u.jsxs)("div",{className:x()("tracer",{"transition-without-animation":f}),style:{transform:"translate(".concat(c*O,"px)")},children:[Object(u.jsx)("div",{ref:l,style:{marginLeft:"".concat(C.left,"px"),marginRight:"".concat(C.rigth,"px")},children:t[t.length-1]}),t,t]})}),Object(u.jsx)("button",{type:"button",onClick:function(){f||s(c-1)},className:"button",children:a})]})}),R=(c(45),function(){var e=Object(j.useState)(-1),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(u.jsx)("div",{className:"wrapper-banner",children:Object(u.jsx)(I,{step:c,setStep:s,leftButton:Object(u.jsx)("div",{className:"arrow",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"prev"})}),rightButton:Object(u.jsx)("div",{className:"arrow",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"next"})}),children:["./img/banners/banner-accessories.png","./img/banners/banner-phones.png","./img/banners/banner-tablets.png"].map((function(e){return Object(u.jsx)("div",{className:"baner",style:{backgroundImage:"url(".concat(e,")")}},e)}))})})}),E=(c(46),function(){var e=Object(j.useContext)(O),t=Object(i.a)(e,1)[0];return Object(u.jsxs)("div",{className:"wrapper-catalogs",children:[Object(u.jsx)(v,{way:"/phones",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/phone.png",alt:"phones"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Mobile phones"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"phone"===e.type})).length," ","models"]})]})]})}),Object(u.jsx)(v,{way:"/tablets",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/tablets.png",alt:"tablets"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Tablets"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"tablet"===e.type})).length," ","models"]})]})]})}),Object(u.jsx)(v,{way:"/accessories",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/accessories.png",alt:"accessories"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Accessories"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"accessories"===e.type})).length," ","models"]})]})]})})]})}),M=(c(47),function(){return Object(u.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(u.jsx)("div",{className:"Loader__content"})})}),A=(c(48),function(e){var t=e.title,c=e.list,s=Object(j.useState)(-1),n=Object(i.a)(s,2),a=n[0],r=n[1],o=Object(j.useState)(4),l=Object(i.a)(o,2),d=l[0],b=l[1],O=B();Object(j.useEffect)((function(){O>1200&&b(4),O<1200&&b(3),O<768&&b(2),O<540&&b(1)}),[O]);var p=Object(j.useMemo)((function(){return c.length?Object(u.jsx)(I,{step:a,setStep:r,leftButton:Object(u.jsx)("div",{className:"prev",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"prev"})}),rightButton:Object(u.jsx)("div",{className:"next",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"next"})}),countElement:d,children:c.map((function(e){return Object(u.jsx)(L,{product:e},e.age)}))}):""}),[c,a,d,O]);return Object(u.jsx)("div",{className:"product",children:Object(u.jsxs)("div",{className:"test",children:[Object(u.jsx)("h2",{className:"product-title",children:t}),Object(u.jsx)("div",{className:"wrapper-slider-product",children:p})]})})}),J=(c(49),function(){var e=Object(j.useContext)(O),t=Object(i.a)(e,1)[0];return Object(u.jsx)("section",{className:"contant",children:t.loader?Object(u.jsx)(M,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(R,{}),Object(u.jsx)(A,{title:"Hot prices",list:t.catalogsProducts.filter((function(e){return e.discount}))}),Object(u.jsx)(E,{}),Object(u.jsx)(A,{title:"Brand new models",list:t.catalogsProducts.filter((function(e){return!e.discount}))})]})})}),T=(c(50),function(e){var t=e.listOptions,c=e.selected,s=e.choosSelected,n=e.lengthList,a=Object(r.d)(),o=Object(i.a)(a,2),l=o[0],d=o[1],b=Object(j.useState)(!1),O=Object(i.a)(b,2),p=O[0],m=O[1],f=Object(h.k)().pathname;Object(j.useEffect)((function(){m(!1)}),[f]);var g=function(){m(!p)};return Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsxs)("div",{className:"currently-value",onClick:g,onKeyDown:g,children:[c,Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"arrow",className:x()("close",{open:p})})]}),Object(u.jsx)("div",{className:x()("elements",{"active-menu":p}),children:t.map((function(e){return Object(u.jsx)("button",{type:"button",disabled:!!n&&n<+e,onClick:function(){return t=e,n||(l.set("sort",t),d(l)),n&&(l.set("perPage",t),d(l)),s(t),void m(!1);var t},className:x()("",{selected:e===c,disable:!!n&&n<+e}),children:e},e)}))})]})}),q=(c(51),c(52),function(e){var t=e.prev,c=e.next,s=e.currentStep,n=e.stepsCount,a=e.setCurrenStep,r=e.setNumberStep;return Object(u.jsxs)("div",{className:"wrapper-pagination",children:[Object(u.jsx)("button",{type:"button",onClick:t,className:"paggination-arrow","data-cy":"paginationLeft",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"left"})}),Object(u.jsx)("div",{className:"steps",children:n.map((function(e,t){return Object(u.jsx)("button",{type:"button",onClick:function(){return function(e){a(e),r(e)}(t)},className:x()("item-step",{"active-step":s===t}),children:t+1},e)}))}),Object(u.jsx)("button",{type:"button",onClick:c,className:"paggination-arrow","data-cy":"paginationRight",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"right"})})]})});!function(e){e.name="Name",e.price="Price",e.ram="Ram",e.screen="Screen"}(s||(s={}));var D=function(){var e=Object(r.d)(),t=Object(i.a)(e,1)[0],c=Object(h.k)().pathname,n=Object(j.useState)(t.get("sort")||"Default"),a=Object(i.a)(n,2),l=a[0],d=a[1],b=Object(j.useState)("16"),p=Object(i.a)(b,2),m=p[0],x=p[1],f=Object(j.useState)(0),g=Object(i.a)(f,2),v=g[0],N=g[1],y=Object(j.useState)(16),k=Object(i.a)(y,2),w=k[0],C=k[1],_=Object(j.useState)(0),P=Object(i.a)(_,2),F=P[0],B=P[1],I=Object(j.useState)([]),R=Object(i.a)(I,2),E=R[0],A=R[1],J=Object(j.useContext)(O),D=Object(i.a)(J,1)[0],G=t.get("query"),H=Object(j.useMemo)((function(){return c.includes("phones")?D.catalogsProducts.filter((function(e){return"phone"===e.type})):c.includes("tablets")?D.catalogsProducts.filter((function(e){return"tablet"===e.type})):D.catalogsProducts.filter((function(e){return"accessorie"===e.type}))}),[c,D.catalogsProducts]);Object(j.useEffect)((function(){N(0),C(+m)}),[m,c]);var V=Object(j.useMemo)((function(){var e=Object(o.a)(H);return l===s.name?e.sort((function(e,t){return e.name.localeCompare(t.name)})):l===s.price?e.sort((function(e,t){return t.price-e.price})):l===s.ram?e.sort((function(e,t){return parseFloat(e.ram)-parseFloat(t.ram)})):l===s.screen?e.sort((function(e,t){return parseFloat(e.screen)-parseFloat(t.screen)})):e}),[l,D.catalogsProducts,c]),W=Object(j.useMemo)((function(){var e=Object(o.a)(V);return G?e.filter((function(e){return e.name.toLowerCase().includes(G.toLowerCase())})):e}),[t.get("query"),V]);return Object(j.useEffect)((function(){var e=Math.floor(H.length/+m);A(Array(e).fill(""))}),[H,m]),Object(u.jsxs)("section",{className:"products",children:[G?Object(u.jsx)("div",{className:"result",children:"".concat(W.length," ").concat(W.length>1?"results":"result")}):Object(u.jsx)(S,{}),G?"":Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"products__describe",children:[Object(u.jsx)("h1",{children:c.includes("phones")?"Mobile phones":c.includes("tablets")?"Tablets":"Accessories"}),Object(u.jsxs)("span",{children:[H.length," ","model"]})]}),W.length?Object(u.jsxs)("div",{className:"products__dropdowns",children:[Object(u.jsxs)("div",{className:"drop-first",children:[Object(u.jsx)("h3",{children:"Sort by"}),Object(u.jsx)(T,{listOptions:["Name","Price","Ram","Screen"],selected:l,choosSelected:d})]}),Object(u.jsxs)("div",{className:"drop-second",children:[Object(u.jsx)("h3",{children:"Items on page"}),Object(u.jsx)(T,{listOptions:["16","8","4"],selected:m,choosSelected:x,lengthList:H.length})]})]}):Object(u.jsx)(u.Fragment,{})]}),D.loader?Object(u.jsx)(M,{}):Object(u.jsx)("div",{className:"pagination","data-cy":"productList",children:W.slice(v,w).map((function(e){return Object(u.jsx)("div",{className:"pagination__wrapper-card",children:Object(u.jsx)(L,{product:e})},e.age)}))}),!G&&W.length>4?Object(u.jsx)(q,{prev:function(){v&&(N(v-+m),C(w-+m),B(F-1))},next:function(){w<H.length&&(N(w),C(w+ +m),B(F+1))},currentStep:F,stepsCount:E,setCurrenStep:B,setNumberStep:function(e){v&&e<F&&(N(v-(F-e)*+m),C(w-(F-e)*+m)),w<H.length&&e>F&&(N(v+(e-F)*+m),C(w+(e-F)*+m))}}):Object(u.jsx)(u.Fragment,{}),!W.length&&Object(u.jsx)("div",{children:"List products is empty, please check later"})]})},G=function(e){var t=e.text;return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:t})})},H=(c(53),["64GB","256GB","512GB"]),V=function(){var e=Object(j.useState)(H[0]),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(u.jsxs)("div",{className:"capacity",children:[Object(u.jsx)("span",{children:"Select capacity"}),Object(u.jsx)("div",{className:"capacity__button",children:H.map((function(e){return Object(u.jsx)("button",{className:x()({"active-memory":e===c}),type:"button",onClick:function(){s(e)},children:e},e)}))})]})},W=(c(54),["#FCDBC1","#5F7170","#4C4C4C","#F0F0F0"]),$=function(){var e=Object(j.useState)(W[0]),t=Object(i.a)(e,2),c=t[0],s=t[1];return Object(u.jsxs)("div",{className:"colors",children:[Object(u.jsx)("span",{children:"Available colors"}),Object(u.jsx)("div",{className:"wrapper-colors",children:W.map((function(e){return Object(u.jsx)("button",{type:"button",className:x()("color",{active:e===c}),onClick:function(){s(e)},children:Object(u.jsx)("div",{style:{backgroundColor:"".concat(e)}})},e)}))})]})},z=(c(55),function(e){var t=e.listImages,c=Object(j.useState)(t[0]),s=Object(i.a)(c,2),n=s[0],a=s[1];return Object(u.jsxs)("div",{className:"list-photo-details",children:[Object(u.jsx)("div",{className:"wrapper-photo",children:t.map((function(e){return Object(u.jsx)("button",{type:"button",className:"list-photo-details__image",onClick:function(){return t="./".concat(e),void a(t);var t},children:Object(u.jsx)("img",{src:"./".concat(e),alt:"product"})},e)}))}),Object(u.jsx)("div",{className:"wrapper-photo",children:Object(u.jsx)("img",{src:n,alt:"selected"})})]})}),U=(c(56),function(e){var t=e.title,c=e.value;return Object(u.jsxs)("div",{className:"property",children:[Object(u.jsx)("span",{className:"property__title",children:t}),Object(u.jsx)("span",{className:"property__value",children:c})]})}),K=(c(57),function(e){var t,c,s=e.details,n=Object(j.useContext)(O),a=Object(i.a)(n,1)[0],r=Object(j.useMemo)((function(){var e,t,c;return a.selectedProduct?Math.floor((null===(e=a.selectedProduct)||void 0===e?void 0:e.price)-(null===(t=a.selectedProduct)||void 0===t?void 0:t.price)/100*(null===(c=a.selectedProduct)||void 0===c?void 0:c.discount)):0}),[a.selectedProduct]);return Object(u.jsxs)("div",{className:"details-product-price",children:[Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"price__new",children:"$".concat(r)}),Object(u.jsx)("span",{className:"price__old",children:r!==(null===(t=a.selectedProduct)||void 0===t?void 0:t.price)&&(null===(c=a.selectedProduct)||void 0===c?void 0:c.price)})]}),Object(u.jsxs)("div",{className:"price-buttons",children:[Object(u.jsx)(_,{product:a.selectedProduct}),Object(u.jsx)(P,{product:a.selectedProduct})]}),Object(u.jsx)("div",{className:"specs",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(U,{title:"Screen",value:s.display.screenSize}),Object(u.jsx)(U,{title:"Resolution",value:s.display.screenResolution}),Object(u.jsx)(U,{title:"Processor",value:s.hardware.cpu}),Object(u.jsx)(U,{title:"RAM",value:s.storage.ram})]})})]})}),Q=(c(58),function(){var e=Object(h.o)().id,t=void 0===e?"":e,c=Object(j.useState)(null),s=Object(i.a)(c,2),n=s[0],a=s[1],r=Object(j.useState)(!1),o=Object(i.a)(r,2),l=o[0],d=o[1];Object(j.useEffect)((function(){t&&function(e){return fetch("https://mate-academy.github.io/react_phone-catalog/api/products/".concat(e,".json")).then((function(e){return e.json()}))}(t).then((function(e){return a(e)})).catch((function(){return d(!0)}))}),[t]);var b=Object(j.useMemo)((function(){return n&&!l?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:n.name}),Object(u.jsxs)("div",{className:"wrapper-info",children:[Object(u.jsx)(z,{listImages:n.images}),Object(u.jsxs)("div",{children:[Object(u.jsx)($,{}),Object(u.jsx)(V,{}),Object(u.jsx)(K,{details:n})]})]}),Object(u.jsxs)("div",{className:"describe-details",children:[Object(u.jsxs)("div",{className:"describe-details__about",children:[Object(u.jsx)("h2",{children:"About"}),Object(u.jsx)("p",{children:n.description})]}),Object(u.jsxs)("div",{className:"describe-details__tech",children:[Object(u.jsx)("h2",{children:"Tech specs"}),Object(u.jsxs)("div",{children:[Object(u.jsx)(U,{title:"Sreen",value:n.display.screenSize}),Object(u.jsx)(U,{title:"Resolution",value:n.display.screenResolution}),Object(u.jsx)(U,{title:"Processor",value:n.hardware.cpu}),Object(u.jsx)(U,{title:"RAM",value:n.storage.ram}),Object(u.jsx)(U,{title:"Built in memory",value:n.storage.flash}),Object(u.jsx)(U,{title:"Camera",value:n.camera.primary}),Object(u.jsx)(U,{title:"Cell",value:n.connectivity.cell})]})]})]})]}):Object(u.jsx)(G,{text:"Something went wrong please check your connect with internet"})}),[n,l]);return Object(u.jsxs)("section",{className:"details-wrapper",children:[Object(u.jsx)(S,{}),n?b:Object(u.jsx)(M,{})]})}),X=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(y,{}),Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{path:"*",element:Object(u.jsx)("h1",{children:"Page not found"})}),Object(u.jsx)(h.a,{path:"/",element:Object(u.jsx)(J,{})}),Object(u.jsxs)(h.a,{path:"/",element:Object(u.jsx)(D,{}),children:[Object(u.jsx)(h.a,{path:"phones",element:Object(u.jsx)(D,{})}),Object(u.jsx)(h.a,{path:"tablets",element:Object(u.jsx)(D,{})}),Object(u.jsx)(h.a,{path:"accessories",element:Object(u.jsx)(D,{})})]}),Object(u.jsx)(h.a,{path:"phones",element:Object(u.jsx)(Q,{}),children:Object(u.jsx)(h.a,{path:":id",element:Object(u.jsx)(Q,{})})}),Object(u.jsx)(h.a,{path:"tablets",element:Object(u.jsx)(Q,{}),children:Object(u.jsx)(h.a,{path:":id",element:Object(u.jsx)(Q,{})})}),Object(u.jsx)(h.a,{path:"/favourites",element:Object(u.jsx)(F,{})}),Object(u.jsx)(h.a,{path:"/shopping",element:Object(u.jsx)(C,{})})]})]})};a.a.render(Object(u.jsx)(p,{children:Object(u.jsx)(r.a,{children:Object(u.jsx)(X,{})})}),document.getElementById("root"))}]),[[59,1,2]]]);
//# sourceMappingURL=main.41b132cb.chunk.js.map