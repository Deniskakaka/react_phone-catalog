(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(33).concat([function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var s,n=c(26),a=c.n(n),i=c(10),r=c(2),o=c(6),l=c(9),j=c(1),u=c(0),d={catalogsProducts:[],favoriteProducts:JSON.parse(localStorage.getItem("likeList"))||[],basketList:JSON.parse(localStorage.getItem("shoppingList"))||[],selectedProduct:JSON.parse(localStorage.getItem("product"))||null,loader:!1},b=function(e,t){switch(t.type){case"addCatalog":return Object(l.a)(Object(l.a)({},e),{},{catalogsProducts:t.list});case"addFavorite":return Object(l.a)(Object(l.a)({},e),{},{favoriteProducts:[].concat(Object(o.a)(e.favoriteProducts),[t.product])});case"removeFavorite":return Object(l.a)(Object(l.a)({},e),{},{favoriteProducts:e.favoriteProducts.filter((function(e){return e.age!==t.age}))});case"addBasket":return Object(l.a)(Object(l.a)({},e),{},{basketList:[].concat(Object(o.a)(e.basketList),[t.product])});case"riseValueProduct":return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.map((function(e){return e.item.age===t.id&&(e.value+=1),e}))});case"reductionValueProduct":return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.map((function(e){return e.item.age===t.id&&(e.value-=1),e}))});case"removeProductInBasket":return Object(l.a)(Object(l.a)({},e),{},{basketList:e.basketList.filter((function(e){return e.item.age!==t.age}))});case"selectProduct":return Object(l.a)(Object(l.a)({},e),{},{selectedProduct:t.product});case"load":return Object(l.a)(Object(l.a)({},e),{},{loader:t.active});default:return e}},O=Object(j.createContext)([d,function(e){return e}]),p=function(e){var t=e.children,c=Object(j.useReducer)(b,d),s=Object(r.a)(c,2),n=s[0],a=s[1];return Object(u.jsx)(O.Provider,{value:[n,a],children:t})},h=c(4),m=(c(33),c(34),function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsx)("img",{src:"./img/phones/LOGO.png",alt:"logo"}),Object(u.jsxs)("div",{className:"footer__links",children:[Object(u.jsx)("a",{href:"#",children:"GITHUB"}),Object(u.jsx)("a",{href:"#",children:"CONTACTS"}),Object(u.jsx)("a",{href:"#",children:"RIGHTS"})]}),Object(u.jsxs)("div",{className:"footer__back-top",children:[Object(u.jsx)("span",{children:"Back to top"}),Object(u.jsx)("button",{type:"button",onClick:function(){window.scroll({top:0,left:0,behavior:"smooth"})},children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"top"})})]})]})}),x=(c(35),c(8)),f=c.n(x),g=c(27),v=["text","way","children","classStyle","active"],N=function(e){var t=e.text,c=e.way,s=e.children,n=e.classStyle,a=e.active,r=Object(g.a)(e,v),o=Object(h.k)().search;return Object(u.jsx)(i.c,Object(l.a)(Object(l.a)({style:{textDecoration:"none"},className:function(e){var t=e.isActive;return f()("".concat(n),{"active-link":t&&!a})},to:"".concat(c).concat(o)},r),{},{children:s||t}))};c(37);!function(e){e.Phone="phones",e.Tablet="tablets",e.Accessor="accessories",e.Favorite="favorites"}(s||(s={}));var y,S=function(e){var t=e.favorite,c=e.shoping,n=Object(i.d)(),a=Object(r.a)(n,2),o=a[0],l=a[1],d=Object(h.k)().pathname,b=Object(j.useState)(o.get("query")||""),O=Object(r.a)(b,2),p=O[0],m=O[1],x=Object(j.useMemo)((function(){return!(d.includes(s.Phone)||d.includes(s.Tablet)||d.includes(s.Accessor)||d.includes(s.Favorite))}),[d]);return Object(u.jsx)("nav",{className:f()("navigation",{"shopping-page":d.includes("shopping")}),children:d.includes("shopping")?Object(u.jsx)(N,{way:"/shopping",classStyle:"nav-link link-shopping ",children:Object(u.jsx)("div",{className:"count",children:c})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"wrapper",children:[Object(u.jsx)(N,{text:"home",way:"/",classStyle:"nav-link"}),Object(u.jsx)(N,{text:"phones",way:"/phones",classStyle:"nav-link"}),Object(u.jsx)(N,{text:"tablets",way:"/tablets",classStyle:"nav-link"}),Object(u.jsx)(N,{text:"accessories",way:"/accessories",classStyle:"nav-link"})]}),Object(u.jsxs)("div",{className:"wrapper-link-icon",children:[Object(u.jsxs)("label",{className:"search",children:[Object(u.jsx)("input",{className:f()({hidden:x}),value:p,onChange:function(e){o.set("query",e.target.value),m(e.target.value),l(o),e.target.value||(o.delete("query"),l(o))},type:"text",placeholder:"Search in phones..."}),p&&Object(u.jsx)("button",{className:f()("clear",{hidden:x}),"data-cy":"searchDelete",type:"button",onClick:function(){m(""),o.delete("query"),l(o)},children:Object(u.jsx)("img",{src:"./img/icons/Close.png",alt:"close"})}),Object(u.jsx)("img",{className:f()({hidden:x}),src:"./img/icons/Search.png",alt:"search"})]}),Object(u.jsx)(N,{way:"/favourites",classStyle:"nav-link link-favorite",children:Object(u.jsx)("div",{className:"count",children:t})}),Object(u.jsx)(N,{way:"/shopping",classStyle:"nav-link link-shopping ",children:Object(u.jsx)("div",{className:"count",children:c})})]})]})})},k=function(){var e=Object(j.useContext)(O),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(j.useEffect)((function(){s({type:"load",active:!0}),fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json").then((function(e){return e.json()})).then((function(e){s({type:"addCatalog",list:e}),s({type:"load",active:!1})}))}),[]),Object(u.jsxs)("header",{className:"header",children:[Object(u.jsx)("div",{className:"logo"}),Object(u.jsx)(S,{favorite:c.favoriteProducts.length,shoping:c.basketList.length})]})},w=(c(38),function(){var e=Object(h.k)(),t=Object(h.o)().id,c=void 0===t?"":t,s=function(){var t=e.pathname.replace("/","").replace("/".concat(c),"");return t[0].toUpperCase()+t.slice(1)};return Object(u.jsxs)("div",{className:"wrapper-way",children:["Shopping"!==s()?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N,{way:"/",classStyle:"home-link",children:Object(u.jsx)("img",{src:"./img/icons/Home.png",alt:"home"})}),Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"right"})]}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(i.b,{to:"/shopping"===e.pathname?"/":e.pathname.replace("/".concat(c),""),className:"page",children:["Shopping"===s()&&Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"left"}),"Shopping"===s()?"Back":s()]}),c&&Object(u.jsxs)("div",{className:"wrapper-productName",children:[Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"right"}),Object(u.jsx)("span",{children:c})]})]})}),C=c(24),_=(c(39),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(r.a)(c,2);Object(C.a)(s[0]);var n=s[1],a=t.item.price-t.item.price/100*t.item.discount;return Object(u.jsxs)("div",{className:"warpper-card-price","data-cy":"cartDeleteButton",children:[Object(u.jsx)("button",{type:"button",className:"delete",onClick:function(){n({type:"removeProductInBasket",age:t.item.age}),function(){var e=JSON.parse(localStorage.getItem("shoppingList"))||[];e.length&&localStorage.setItem("shoppingList",JSON.stringify(e.filter((function(e){return e.item.age!==t.item.age}))))}()},children:Object(u.jsx)("img",{src:"./img/icons/Close.png",alt:"close"})}),Object(u.jsxs)("div",{className:"describe-card",children:[Object(u.jsx)("img",{src:"./".concat(t.item.imageUrl),alt:"product"}),Object(u.jsx)("h3",{children:t.item.name})]}),Object(u.jsxs)("div",{className:"count-product",children:[Object(u.jsx)("button",{type:"button",className:"count-product__button",onClick:function(){n({type:"reductionValueProduct",id:t.item.age})},disabled:1===t.value,children:"-"}),Object(u.jsx)("div",{className:"count-product__value",children:t.value}),Object(u.jsx)("button",{type:"button",className:"count-product__button",onClick:function(){n({type:"riseValueProduct",id:t.item.age})},children:"+"})]}),Object(u.jsx)("h2",{className:"product-price",children:"$ ".concat(a*t.value)})]})}),P=(c(40),function(){var e=Object(j.useContext)(O),t=Object(r.a)(e,1)[0],c=Object(j.useState)(0),s=Object(r.a)(c,2),n=s[0],a=s[1];return Object(j.useEffect)((function(){a(t.basketList.map((function(e){return((t=e).item.price-t.item.price/100*t.item.discount)*e.value;var t})).reduce((function(e,t){return e+t}),0))}),[t.basketList]),Object(u.jsxs)("div",{className:"wrapper-shopping",children:[Object(u.jsx)(w,{}),Object(u.jsx)("h1",{children:"Cart"}),Object(u.jsx)("div",{className:"main-info-shopping",children:t.basketList.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"wrapper-shopping-cards",children:t.basketList.map((function(e){return Object(u.jsx)(_,{product:e},e.item.age)}))}),Object(u.jsxs)("div",{className:"total-info","data-cy":"productQauntity",children:[Object(u.jsxs)("div",{className:"total-info__cost",children:[Object(u.jsx)("h2",{children:n}),Object(u.jsx)("span",{children:"Total for ".concat(t.basketList.length," items")})]}),Object(u.jsx)("div",{className:"total-info__checkout",children:Object(u.jsx)("button",{type:"button",children:"Checkout"})})]})]}):Object(u.jsx)("div",{children:"list shopping empty please choose product"})})]})}),L=(c(41),c(42),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(r.a)(c,2),n=s[0],a=s[1],i=Object(j.useState)(!1),l=Object(r.a)(i,2),d=l[0],b=l[1];return Object(j.useEffect)((function(){n.basketList.some((function(e){return e.item.age===t.age}))?b(!0):b(!1)}),[n.basketList,n.selectedProduct]),Object(u.jsx)("button",{type:"button",className:f()("card-button",{selected:d}),onClick:function(){return e=t,void(n.basketList.some((function(t){return t.item===e}))||(a({type:"addBasket",product:{item:e,value:1}}),localStorage.setItem("shoppingList",JSON.stringify([].concat(Object(o.a)(n.basketList),[{item:e,value:1}])))));var e},children:d?"Added to cart":"Add to cart"})}),F=(c(43),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(r.a)(c,2),n=s[0],a=s[1],i=Object(j.useState)(!1),l=Object(r.a)(i,2),d=l[0],b=l[1],p=function(){a({type:"removeFavorite",age:t.age}),function(){var e=JSON.parse(localStorage.getItem("likeList"))||[];b(!1),e.length&&localStorage.setItem("likeList",JSON.stringify(e.filter((function(e){return e.age!==t.age}))))}()};return Object(j.useEffect)((function(){n.favoriteProducts.some((function(e){return e.age===t.age}))?b(!0):b(!1)}),[n.favoriteProducts,n.selectedProduct]),Object(u.jsx)("button",{type:"button","data-cy":"addToFavorite",className:"like-button",onClick:function(){return d?p():(a({type:"addFavorite",product:t}),void localStorage.setItem("likeList",JSON.stringify([].concat(Object(o.a)(n.favoriteProducts),[t]))))},children:Object(u.jsx)("img",{className:"hearth",src:"./img/icons/".concat(d?"fullHearth.png":"Hearth.png"),alt:"hearth"})})}),B=(c(44),function(e){var t=e.product,c=Object(j.useContext)(O),s=Object(r.a)(c,2);Object(C.a)(s[0]);var n=s[1],a=Object(h.k)(),i=Object(h.o)().id,o=void 0===i?"":i;return Object(u.jsxs)("div",{className:"container-card","data-cy":"cardsContainer",children:[Object(u.jsx)("img",{src:"./".concat(t.imageUrl),alt:"product"}),Object(u.jsx)(N,{way:"/"===a.pathname?"".concat(t.type,"s/").concat(t.id):"".concat(a.pathname.replace("/".concat(o),""),"/").concat(t.id),onClick:function(){n({type:"selectProduct",product:t}),localStorage.setItem("product",JSON.stringify(t))},classStyle:"card-title",active:!0,children:t.name}),Object(u.jsxs)("div",{className:"price",children:[Object(u.jsxs)("span",{className:"price__current",children:["$",Math.floor(t.price-t.price/100*t.discount)]}),t.discount?Object(u.jsxs)("span",{className:"price__old",children:["$",t.price]}):Object(u.jsx)(u.Fragment,{})]}),Object(u.jsxs)("div",{className:"describe",children:[Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"Screen"}),Object(u.jsx)("span",{className:"value",children:t.screen})]}),Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"Capacity"}),Object(u.jsx)("span",{className:"value",children:t.capacity?"".concat(parseInt(t.capacity,10)/1e3,"GB"):"No data"})]}),Object(u.jsxs)("div",{className:"describe__parametr",children:[Object(u.jsx)("span",{className:"category",children:"RAM"}),Object(u.jsxs)("span",{className:"value",children:[" ",t.ram?"".concat(parseInt(t.ram,10)/1e3,"GB"):"No data"]})]}),Object(u.jsxs)("div",{className:"describe__buttons",children:[Object(u.jsx)(L,{product:t}),Object(u.jsx)(F,{product:t})]})]})]})}),I=function(){var e=Object(j.useContext)(O),t=Object(r.a)(e,1)[0];return Object(u.jsxs)("div",{className:"favorite",children:[Object(u.jsx)(w,{}),Object(u.jsx)("h2",{className:"favorite-title",children:"Favourites"}),t.favoriteProducts.length?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"count-product",children:"".concat(t.favoriteProducts.length," ").concat(t.favoriteProducts.length>1?"items":"item")}),Object(u.jsx)("div",{className:"list-favorite-wrapper",children:t.favoriteProducts.map((function(e){return Object(u.jsx)(B,{product:e},e.age)}))})]}):Object(u.jsx)("div",{children:"List is empty, please choose device "})]})},E=function(){var e=Object(j.useState)(window.innerWidth),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(j.useEffect)((function(){window.addEventListener("resize",(function(){s(window.innerWidth)}))}),[window.innerWidth]),c},R=(c(45),function(e){var t=e.children,c=e.step,s=e.setStep,n=e.leftButton,a=e.rightButton,i=e.countElement,l=void 0===i?1:i,d=e.items,b=Object(j.useRef)(null),O=Object(j.useState)(0),p=Object(r.a)(O,2),h=p[0],m=p[1],x=Object(j.useState)(!0),g=Object(r.a)(x,2),v=g[0],N=g[1],y=Object(j.useState)(0),S=Object(r.a)(y,2),k=S[0],w=S[1],C=Object(j.useState)({left:0,rigth:0}),_=Object(r.a)(C,2),P=_[0],L=_[1],F=Object(j.useState)(Object(o.a)(Array(Math.ceil(t.length/l))).map((function(){return!0}))),B=Object(r.a)(F,2),I=B[0],R=B[1],M=E();Object(j.useEffect)((function(){R(Object(o.a)(Array(Math.ceil(t.length/l))).map((function(){return 1})).map((function(){return!0})))}),[l]),Object(j.useEffect)((function(){if(b.current){var e=document.querySelector(".".concat(b.current.children[0].className)),t=e.offsetWidth,c=parseInt(getComputedStyle(e).marginLeft,10),s=parseInt(getComputedStyle(e).marginRight,10);L({left:c,rigth:s}),k||w((s+c+t)*l),w((s+c+t)*l)}}),[M,k]);return Object(j.useEffect)((function(){var e=function(){return setTimeout((function(){N(!0),s(-Math.ceil(t.length/l))}),200)},n=function(){return setTimeout((function(){N(!0),s(-1)}),200)};return 0===c&&e(),Math.abs(c)>t.length/l&&n(),function(){clearTimeout(e()),clearTimeout(n())}}),[c]),Object(j.useEffect)((function(){var e=function(){return setTimeout((function(){return N(!1)}),100)};return v&&e(),function(){return clearTimeout(e())}}),[v]),Object(j.useEffect)((function(){m(k)}),[M,k,l]),Object(u.jsxs)("div",{className:"slider-container",children:[Object(u.jsxs)("div",{className:"wrapper-content",children:[Object(u.jsx)("button",{onClick:function(){v||s(c+1)},type:"button",className:"button",children:n}),Object(u.jsx)("div",{className:"slider-window",style:{width:"".concat(k,"px")},children:Object(u.jsxs)("div",{className:f()("tracer",{"transition-without-animation":v}),style:{transform:"translate(".concat(c*h,"px)")},children:[Object(u.jsx)("div",{ref:b,style:{marginLeft:"".concat(P.left,"px"),marginRight:"".concat(P.rigth,"px")},children:t[t.length-1]}),t,t]})}),Object(u.jsx)("button",{type:"button",onClick:function(){v||s(c-1)},className:"button",children:a})]}),Object(u.jsx)("div",{className:"slider-buttom",children:d&&I.map((function(e,t){return Object(u.jsx)("button",{type:"button",className:f()({active:-(t+1)===c}),onClick:function(){s(-(t+1))},children:e},99*Math.random()+1)}))})]})}),M=(c(46),function(){var e=Object(j.useState)(-1),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(u.jsx)("div",{className:"wrapper-banner",children:Object(u.jsx)(R,{step:c,setStep:s,leftButton:Object(u.jsx)("div",{className:"arrow",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"prev"})}),rightButton:Object(u.jsx)("div",{className:"arrow",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"next"})}),items:!0,children:["./img/banners/banner-accessories.png","./img/banners/banner-phones.png","./img/banners/banner-tablets.png"].map((function(e){return Object(u.jsx)("div",{className:"baner",style:{backgroundImage:"url(".concat(e,")")}},e)}))})})}),A=(c(47),function(){var e=Object(j.useContext)(O),t=Object(r.a)(e,1)[0];return Object(u.jsxs)("div",{className:"wrapper-catalogs",children:[Object(u.jsx)(N,{way:"/phones",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/phone.png",alt:"phones"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Mobile phones"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"phone"===e.type})).length," ","models"]})]})]})}),Object(u.jsx)(N,{way:"/tablets",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/tablets.png",alt:"tablets"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Tablets"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"tablet"===e.type})).length," ","models"]})]})]})}),Object(u.jsx)(N,{way:"/accessories",classStyle:"link","data-cy":"categoryLinksContainer",children:Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("img",{src:"./img/banners/accessories.png",alt:"accessories"}),Object(u.jsxs)("div",{className:"catalog__info",children:[Object(u.jsx)("span",{children:"Accessories"}),Object(u.jsxs)("span",{children:[t.catalogsProducts.filter((function(e){return"accessories"===e.type})).length," ","models"]})]})]})})]})}),T=(c(48),function(){return Object(u.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(u.jsx)("div",{className:"Loader__content"})})}),J=(c(49),function(e){var t=e.title,c=e.list,s=Object(j.useState)(-1),n=Object(r.a)(s,2),a=n[0],i=n[1],o=Object(j.useState)(4),l=Object(r.a)(o,2),d=l[0],b=l[1],O=E();Object(j.useEffect)((function(){O>1200&&b(4),O<1200&&b(3),O<768&&b(2),O<540&&b(1)}),[O]);var p=Object(j.useMemo)((function(){return c.length?Object(u.jsx)(R,{step:a,setStep:i,leftButton:Object(u.jsx)("div",{className:"prev",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"prev"})}),rightButton:Object(u.jsx)("div",{className:"next",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"next"})}),countElement:d,children:c.map((function(e){return Object(u.jsx)(B,{product:e},e.age)}))}):""}),[c,a,d,O]);return Object(u.jsx)("div",{className:"product",children:Object(u.jsxs)("div",{className:"test",children:[Object(u.jsx)("h2",{className:"product-title",children:t}),Object(u.jsx)("div",{className:"wrapper-slider-product",children:p})]})})}),G=(c(50),function(){var e=Object(j.useContext)(O),t=Object(r.a)(e,1)[0];return Object(u.jsx)("section",{className:"contant",children:t.loader?Object(u.jsx)(T,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(M,{}),Object(u.jsx)(J,{title:"Hot prices",list:t.catalogsProducts.filter((function(e){return e.discount}))}),Object(u.jsx)(A,{}),Object(u.jsx)(J,{title:"Brand new models",list:t.catalogsProducts.filter((function(e){return!e.discount}))})]})})}),q=(c(51),function(e){var t=e.listOptions,c=e.selected,s=e.choosSelected,n=e.lengthList,a=Object(i.d)(),o=Object(r.a)(a,2),l=o[0],d=o[1],b=Object(j.useState)(!1),O=Object(r.a)(b,2),p=O[0],m=O[1],x=Object(h.k)().pathname;Object(j.useEffect)((function(){m(!1)}),[x]);var g=function(){m(!p)};return Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsxs)("div",{className:"currently-value",onClick:g,onKeyDown:g,children:[c,Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"arrow",className:f()("close",{open:p})})]}),Object(u.jsx)("div",{className:f()("elements",{"active-menu":p}),children:t.map((function(e){return Object(u.jsx)("button",{type:"button",disabled:!!n&&n<+e,onClick:function(){return t=e,n||(l.set("sort",t),d(l)),n&&(l.set("perPage",t),d(l)),s(t),void m(!1);var t},className:f()("",{selected:e===c,disable:!!n&&n<+e}),children:e},e)}))})]})}),D=(c(52),c(53),function(e){var t=e.prev,c=e.next,s=e.currentStep,n=e.stepsCount,a=e.setCurrenStep,i=e.setNumberStep;return Object(u.jsxs)("div",{className:"wrapper-pagination",children:[Object(u.jsx)("button",{type:"button",onClick:t,className:"paggination-arrow","data-cy":"paginationLeft",children:Object(u.jsx)("img",{src:"./img/icons/Left.png",alt:"left"})}),Object(u.jsx)("div",{className:"steps",children:n.map((function(e,t){return Object(u.jsx)("button",{type:"button",onClick:function(){return function(e){a(e),i(e)}(t)},className:f()("item-step",{"active-step":s===t}),children:t+1},e)}))}),Object(u.jsx)("button",{type:"button",onClick:c,className:"paggination-arrow","data-cy":"paginationRight",children:Object(u.jsx)("img",{src:"./img/icons/Right.png",alt:"right"})})]})});!function(e){e.name="Name",e.price="Price",e.ram="Ram",e.screen="Screen"}(y||(y={}));var H=function(){var e=Object(i.d)(),t=Object(r.a)(e,1)[0],c=Object(h.k)().pathname,s=Object(j.useState)(t.get("sort")||"Default"),n=Object(r.a)(s,2),a=n[0],l=n[1],d=Object(j.useState)("16"),b=Object(r.a)(d,2),p=b[0],m=b[1],x=Object(j.useState)(0),f=Object(r.a)(x,2),g=f[0],v=f[1],N=Object(j.useState)(16),S=Object(r.a)(N,2),k=S[0],C=S[1],_=Object(j.useState)(0),P=Object(r.a)(_,2),L=P[0],F=P[1],I=Object(j.useState)([]),E=Object(r.a)(I,2),R=E[0],M=E[1],A=Object(j.useContext)(O),J=Object(r.a)(A,1)[0],G=t.get("query");Object(j.useEffect)((function(){window.scroll({top:0,left:0,behavior:"smooth"})}),[]);var H=Object(j.useMemo)((function(){return c.includes("phones")?J.catalogsProducts.filter((function(e){return"phone"===e.type})):c.includes("tablets")?J.catalogsProducts.filter((function(e){return"tablet"===e.type})):J.catalogsProducts.filter((function(e){return"accessorie"===e.type}))}),[c,J.catalogsProducts]);Object(j.useEffect)((function(){v(0),C(+p)}),[p,c]);var U=Object(j.useMemo)((function(){var e=Object(o.a)(H);return a===y.name?e.sort((function(e,t){return e.name.localeCompare(t.name)})):a===y.price?e.sort((function(e,t){return t.price-e.price})):a===y.ram?e.sort((function(e,t){return parseFloat(e.ram)-parseFloat(t.ram)})):a===y.screen?e.sort((function(e,t){return parseFloat(e.screen)-parseFloat(t.screen)})):e}),[a,J.catalogsProducts,c]),V=Object(j.useMemo)((function(){var e=Object(o.a)(U);return G?e.filter((function(e){return e.name.toLowerCase().includes(G.toLowerCase())})):e}),[t.get("query"),U]);return Object(j.useEffect)((function(){var e=Math.floor(H.length/+p);M(Array(e).fill(""))}),[H,p]),Object(u.jsxs)("section",{className:"products",children:[G?Object(u.jsx)("div",{className:"result",children:"".concat(V.length," ").concat(V.length>1?"results":"result")}):Object(u.jsx)(w,{}),G?"":Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"products__describe",children:[Object(u.jsx)("h1",{children:c.includes("phones")?"Mobile phones":c.includes("tablets")?"Tablets":"Accessories"}),Object(u.jsxs)("span",{children:[H.length," ","model"]})]}),V.length?Object(u.jsxs)("div",{className:"products__dropdowns",children:[Object(u.jsxs)("div",{className:"drop-first",children:[Object(u.jsx)("h3",{children:"Sort by"}),Object(u.jsx)(q,{listOptions:["Name","Price","Ram","Screen"],selected:a,choosSelected:l})]}),Object(u.jsxs)("div",{className:"drop-second",children:[Object(u.jsx)("h3",{children:"Items on page"}),Object(u.jsx)(q,{listOptions:["16","8","4"],selected:p,choosSelected:m,lengthList:H.length})]})]}):Object(u.jsx)(u.Fragment,{})]}),J.loader?Object(u.jsx)(T,{}):Object(u.jsx)("div",{className:"pagination","data-cy":"productList",children:V.slice(g,k).map((function(e){return Object(u.jsx)("div",{className:"pagination__wrapper-card",children:Object(u.jsx)(B,{product:e})},e.age)}))}),!G&&V.length>4?Object(u.jsx)(D,{prev:function(){g&&(v(g-+p),C(k-+p),F(L-1))},next:function(){k<H.length&&(v(k),C(k+ +p),F(L+1))},currentStep:L,stepsCount:R,setCurrenStep:F,setNumberStep:function(e){g&&e<L&&(v(g-(L-e)*+p),C(k-(L-e)*+p)),k<H.length&&e>L&&(v(g+(e-L)*+p),C(k+(e-L)*+p))}}):Object(u.jsx)(u.Fragment,{}),!V.length&&Object(u.jsx)("div",{children:"List products is empty, please check later"})]})},U=function(e){var t=e.text;return Object(u.jsx)("div",{children:Object(u.jsx)("h1",{children:t})})},V=(c(54),["64GB","256GB","512GB"]),W=function(){var e=Object(j.useState)(V[0]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(u.jsxs)("div",{className:"capacity",children:[Object(u.jsx)("span",{children:"Select capacity"}),Object(u.jsx)("div",{className:"capacity__button",children:V.map((function(e){return Object(u.jsx)("button",{className:f()({"active-memory":e===c}),type:"button",onClick:function(){s(e)},children:e},e)}))})]})},$=(c(55),["#FCDBC1","#5F7170","#4C4C4C","#F0F0F0"]),z=function(){var e=Object(j.useState)($[0]),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(u.jsxs)("div",{className:"colors",children:[Object(u.jsx)("span",{children:"Available colors"}),Object(u.jsx)("div",{className:"wrapper-colors",children:$.map((function(e){return Object(u.jsx)("button",{type:"button",className:f()("color",{active:e===c}),onClick:function(){s(e)},children:Object(u.jsx)("div",{style:{backgroundColor:"".concat(e)}})},e)}))})]})},K=(c(56),function(e){var t=e.listImages,c=Object(j.useState)(t[0]),s=Object(r.a)(c,2),n=s[0],a=s[1];Object(j.useEffect)((function(){a(t[0])}),[t]);return Object(u.jsxs)("div",{className:"list-photo-details",children:[Object(u.jsx)("div",{className:"wrapper-photo",children:t.map((function(e){return Object(u.jsx)("button",{type:"button",className:"list-photo-details__image",onClick:function(){return t="./".concat(e),void a(t);var t},children:Object(u.jsx)("img",{src:"./".concat(e),alt:"product"})},e)}))}),Object(u.jsx)("div",{className:"wrapper-photo",children:Object(u.jsx)("img",{src:n,alt:"selected"})})]})}),Q=(c(57),function(e){var t=e.title,c=e.value;return Object(u.jsxs)("div",{className:"property",children:[Object(u.jsx)("span",{className:"property__title",children:t}),Object(u.jsx)("span",{className:"property__value",children:c})]})}),Y=(c(58),function(e){var t,c,s=e.details,n=Object(j.useContext)(O),a=Object(r.a)(n,1)[0],i=Object(j.useMemo)((function(){var e,t,c;return a.selectedProduct?Math.floor((null===(e=a.selectedProduct)||void 0===e?void 0:e.price)-(null===(t=a.selectedProduct)||void 0===t?void 0:t.price)/100*(null===(c=a.selectedProduct)||void 0===c?void 0:c.discount)):0}),[a.selectedProduct]);return Object(u.jsxs)("div",{className:"details-product-price",children:[Object(u.jsxs)("div",{className:"price",children:[Object(u.jsx)("span",{className:"price__new",children:"$".concat(i)}),Object(u.jsx)("span",{className:"price__old",children:i!==(null===(t=a.selectedProduct)||void 0===t?void 0:t.price)&&(null===(c=a.selectedProduct)||void 0===c?void 0:c.price)})]}),Object(u.jsxs)("div",{className:"price-buttons",children:[Object(u.jsx)(L,{product:a.selectedProduct}),Object(u.jsx)(F,{product:a.selectedProduct})]}),Object(u.jsx)("div",{className:"specs",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(Q,{title:"Screen",value:s.display.screenSize}),Object(u.jsx)(Q,{title:"Resolution",value:s.display.screenResolution}),Object(u.jsx)(Q,{title:"Processor",value:s.hardware.cpu}),Object(u.jsx)(Q,{title:"RAM",value:s.storage.ram})]})})]})}),X=(c(59),function(){var e=Object(j.useContext)(O),t=Object(r.a)(e,1)[0],c=Object(h.o)().id,s=void 0===c?"":c,n=Object(j.useState)(null),a=Object(r.a)(n,2),i=a[0],o=a[1],l=Object(j.useState)(!1),d=Object(r.a)(l,2),b=d[0],p=d[1];Object(j.useEffect)((function(){window.scroll({top:0,left:0,behavior:"smooth"}),s&&function(e){return fetch("https://mate-academy.github.io/react_phone-catalog/api/products/".concat(e,".json")).then((function(e){return e.json()}))}(s).then((function(e){return o(e)})).catch((function(){return p(!0)}))}),[s]);var m=Object(j.useMemo)((function(){return i&&!b?Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:i.name}),Object(u.jsxs)("div",{className:"wrapper-info",children:[Object(u.jsx)(K,{listImages:i.images}),Object(u.jsxs)("div",{children:[Object(u.jsx)(z,{}),Object(u.jsx)(W,{}),Object(u.jsx)(Y,{details:i})]})]}),Object(u.jsxs)("div",{className:"describe-details",children:[Object(u.jsxs)("div",{className:"describe-details__about",children:[Object(u.jsx)("h2",{children:"About"}),Object(u.jsx)("p",{children:i.description})]}),Object(u.jsxs)("div",{className:"describe-details__tech",children:[Object(u.jsx)("h2",{children:"Tech specs"}),Object(u.jsxs)("div",{children:[Object(u.jsx)(Q,{title:"Sreen",value:i.display.screenSize}),Object(u.jsx)(Q,{title:"Resolution",value:i.display.screenResolution}),Object(u.jsx)(Q,{title:"Processor",value:i.hardware.cpu}),Object(u.jsx)(Q,{title:"RAM",value:i.storage.ram}),Object(u.jsx)(Q,{title:"Built in memory",value:i.storage.flash}),Object(u.jsx)(Q,{title:"Camera",value:i.camera.primary}),Object(u.jsx)(Q,{title:"Cell",value:i.connectivity.cell})]})]})]})]}):Object(u.jsx)(U,{text:"Something went wrong please check your connect with internet"})}),[i,b]);return Object(u.jsxs)("section",{className:"details-wrapper",children:[Object(u.jsx)(w,{}),i?m:Object(u.jsx)(T,{}),Object(u.jsx)(J,{title:"You may also like",list:t.catalogsProducts.filter((function(e){var c;return e.type===(null===(c=t.selectedProduct)||void 0===c?void 0:c.type)}))})]})}),Z=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(k,{}),Object(u.jsx)("main",{className:"main",children:Object(u.jsxs)(h.c,{children:[Object(u.jsx)(h.a,{path:"*",element:Object(u.jsx)("h1",{children:"Page not found"})}),Object(u.jsx)(h.a,{path:"/",element:Object(u.jsx)(G,{})}),Object(u.jsxs)(h.a,{path:"/",element:Object(u.jsx)(H,{}),children:[Object(u.jsx)(h.a,{path:"phones",element:Object(u.jsx)(H,{})}),Object(u.jsx)(h.a,{path:"tablets",element:Object(u.jsx)(H,{})}),Object(u.jsx)(h.a,{path:"accessories",element:Object(u.jsx)(H,{})})]}),Object(u.jsx)(h.a,{path:"phones",element:Object(u.jsx)(X,{}),children:Object(u.jsx)(h.a,{path:":id",element:Object(u.jsx)(X,{})})}),Object(u.jsx)(h.a,{path:"tablets",element:Object(u.jsx)(X,{}),children:Object(u.jsx)(h.a,{path:":id",element:Object(u.jsx)(X,{})})}),Object(u.jsx)(h.a,{path:"/favourites",element:Object(u.jsx)(I,{})}),Object(u.jsx)(h.a,{path:"/shopping",element:Object(u.jsx)(P,{})})]})}),Object(u.jsx)(m,{})]})};a.a.render(Object(u.jsx)(p,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(Z,{})})}),document.getElementById("root"))}]),[[60,1,2]]]);
//# sourceMappingURL=main.7062fe84.chunk.js.map